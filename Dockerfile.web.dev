FROM node:24-alpine as dev
WORKDIR /app

# 1. Install dependencies first (for better caching)
COPY package.json package-lock.json ./
RUN npm install

# 2. Copy the entire monorepo
COPY . . 

# 3. Start the dev server
CMD ["npx", "nx", "serve", "web", "--host=0.0.0.0", "--port=3000"]